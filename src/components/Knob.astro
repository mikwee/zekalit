---
import { Image } from "astro:assets";
import kuf from "../assets/kuf.png";

const { spin } = Astro.props;

const angle = Math.min(5, spin) * 72; // 0-360Â° scale
---
<div class="knob-container">
  <div 
    class="knob" 
    style={{ 
      transform: `rotate(${angle}deg)`, 
      transition: "transform 0.5s ease-out" 
    }}
  >
    <div class="knob-inner">
      <Image
        src={kuf}
        alt="Knob indicator" 
        class="knob-content"
      />
    </div>
  </div>
</div>

<style>
  .knob-container {
       width: 120px;
       height: 120px;
       position: relative;
       border-radius: 50%;
       overflow: hidden;
     }
   
     .knob {
       width: 100%;
       height: 100%;
       position: absolute;
       top: 0;
       left: 0;
       background: linear-gradient(45deg, #ffffff, #f0f0f0);
       border-radius: 50%;
       box-shadow: 0 0 10px rgba(0,0,0,0.1);
     }
   
     .knob-inner {
       width: 80%;
       height: 80%;
       position: absolute;
       top: 10%;
       left: 10%;
       transform-origin: center;
       transition: transform 0.5s ease-out;
     }
   
     .knob-content {
       width: 80%;
       height: 80%;
       transform-origin: center;
     }
</style>
